# RADIUS Client Configuration for PHPNuxBill
# This file defines which devices can connect to the RADIUS server

# Default client for Docker internal network and NAS devices
# This allows containers within the Docker network and configured NAS devices to communicate
# Values are substituted from environment variables at container startup
client default_nas {
    ipaddr = ENV_RADIUS_CLIENT
    secret = ENV_RADIUS_SECRET
    require_message_authenticator = no
    shortname = default-nas
    nas_type = other
}

# Localhost for testing
client localhost {
    ipaddr = 127.0.0.1
    secret = testing123
    require_message_authenticator = no
    shortname = localhost
    nas_type = other
}

# PHPNuxBill application container
# Uses Docker DNS to resolve the container name
client phpnuxbill {
    ipaddr = phpnuxbill-app
    secret = radiussecret
    require_message_authenticator = no
    shortname = phpnuxbill-app
    nas_type = other
}

# ============================================================
# IMPORTANT: Add your MikroTik routers and other NAS devices
# below, OR configure them via PHPNuxBill admin panel which
# will store them in the 'nas' database table.
# ============================================================

# Example MikroTik Router (uncomment and modify as needed)
# client mikrotik-main {
#     ipaddr = 192.168.1.1
#     secret = YourSecretHere
#     shortname = mikrotik-main
#     nas_type = mikrotik
# }

# Dynamic clients from database
# FreeRADIUS will read additional NAS entries from the 'nas' table
# configured in the sql module (read_clients = yes)
