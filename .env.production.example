# PHPNuxBill Production Environment Configuration
# CRITICAL: Never commit this file with real credentials to version control!

# ============================================================================
# APPLICATION CONFIGURATION
# ============================================================================

# Production domain (HTTPS recommended)
APP_URL=https://billing.yourdomain.com

# Timezone (see: https://www.php.net/manual/en/timezones.php)
TZ=Africa/Lagos

# ============================================================================
# DATABASE CONFIGURATION
# ============================================================================

# Database host (use 'mysql' for Docker, or IP for external database)
DB_HOST=mysql

# Database port
DB_PORT=3306

# Database name
DB_NAME=phpnuxbill_prod

# Database user (DO NOT use 'root' in production!)
DB_USER=phpnuxbill_user

# Database password (MUST be strong - min 16 chars, mixed case, numbers, symbols)
# Generate with: openssl rand -base64 24
DB_PASS=CHANGE_THIS_TO_STRONG_PASSWORD

# ============================================================================
# MYSQL ROOT PASSWORD
# ============================================================================

# MySQL root password (MUST be different from DB_PASS)
# Generate with: openssl rand -base64 32
MYSQL_ROOT_PASSWORD=CHANGE_THIS_TO_DIFFERENT_STRONG_PASSWORD

# ============================================================================
# ENCRYPTION CONFIGURATION
# ============================================================================

# Encryption key for router passwords and sensitive data
# CRITICAL: Generate unique 32+ character key and NEVER change after deployment
# Generate with: openssl rand -base64 32
# IMPORTANT: Changing this will make existing encrypted data unrecoverable!
ENCRYPTION_KEY=GENERATE_UNIQUE_32_PLUS_CHAR_KEY_HERE

# ============================================================================
# PORT CONFIGURATION
# ============================================================================

# HTTP port (80 for production, or custom if behind reverse proxy)
APP_HTTP_PORT=80

# HTTPS port (443 for production, or custom if behind reverse proxy)
APP_HTTPS_PORT=443

# MySQL port (3306 default, change if conflicts)
MYSQL_PORT=3306

# phpMyAdmin port (DISABLE in production by commenting out service in docker-compose)
# PHPMYADMIN_PORT=8081

# ============================================================================
# SECURITY NOTES
# ============================================================================

# 1. Generate all passwords using: openssl rand -base64 32
# 2. Never use default/example passwords
# 3. Keep this file secure with permissions: chmod 600 .env
# 4. Add .env to .gitignore (already done)
# 5. Back up this file securely (encrypted)
# 6. Use different passwords for DB_PASS and MYSQL_ROOT_PASSWORD
# 7. NEVER change ENCRYPTION_KEY after initial deployment
# 8. Consider using secrets management (Vault, AWS Secrets Manager)

# ============================================================================
# PRODUCTION CHECKLIST
# ============================================================================

# [ ] All passwords changed from defaults
# [ ] ENCRYPTION_KEY generated and saved securely
# [ ] APP_URL set to production domain with HTTPS
# [ ] Timezone configured correctly
# [ ] File permissions set: chmod 600 .env
# [ ] Backup of .env stored securely
# [ ] SSL/TLS certificates configured
# [ ] Firewall rules configured
# [ ] Monitoring and alerting set up

# ============================================================================
# FREERADIUS CONFIGURATION (Optional - for RADIUS authentication)
# ============================================================================

# RADIUS shared secret for NAS clients (MikroTik routers, etc.)
# This is used to authenticate communication between RADIUS server and NAS devices
# Generate with: openssl rand -hex 16
# IMPORTANT: Use the same secret on your MikroTik router's RADIUS client config
RADIUS_SECRET=CHANGE_THIS_TO_STRONG_SECRET

# Default RADIUS client IP/network allowed to connect
# Use specific IP (192.168.1.1) or network (192.168.1.0/24) for security
# Use 0.0.0.0/0 to allow all IPs (NOT recommended for production)
RADIUS_CLIENT=0.0.0.0/0

# Enable/disable RADIUS authentication logging
# Options: yes, no
# Set to 'no' in production to reduce log volume
RADIUS_LOG_AUTH=no

# RADIUS ports (default values, change only if needed)
RADIUS_AUTH_PORT=1812
RADIUS_ACCT_PORT=1813
RADIUS_COA_PORT=3799
